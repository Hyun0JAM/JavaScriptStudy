<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>chap3. 상품이미지를 클릭하면 팝업창을 띄우도록 한다</title>

<link rel="stylesheet" type="text/css" href="./css/style.css" />

<style type="text/css">

#underline {color: blue;
            text-decoration: underline;}

</style>

<script type="text/javascript">
	
	function choice(val) {
		
		var price = "";
		
		switch(val) {
			case "1" :
				console.log("모니터를 선택하셨군요");
				price = document.getElementById("monitorPrice").innerHTML;
				/*
				   document.getElementById("monitorPrice").innerHTML; 은 
				   document.getElementById("monitorPrice") 태그의 내용물을 말한다. 
				    즉, 200,000 이다.
				*/
				console.log(price);
			break;
			
			case "2" :
				console.log("캠코더를 선택하셨군요");
				price = document.getElementById("camPrice").innerHTML;
				/*
				   document.getElementById("camPrice").innerHTML; 은 
				   document.getElementById("camPrice") 태그의 내용물을 말한다. 
				    즉, 700,000 이다.
				*/
				console.log(price);
			break;
			
			default :
			break;	
		} // end of switch--------------------
		
		document.getElementById("orderPrice").value = price;
		
		var numArr = price.split(",");  // 배열로 리턴해준다.
		var strPrice = numArr.join(""); // 배열에 있는 값들을 읽어와서 하나의 문자열 형태로 합친다.
		var moneny = Number(strPrice)+5000; // 배송비 5000 을 더해준다.
		
		var strmoney = moneny.toLocaleString('en'); // 숫자를 세자리마다 콤마(,)를 찍어서 string 타입으로 돌려줌. 
		
		document.getElementById("totalPrice").innerHTML = strmoney;    
		
	}// end of function choice(val)-------------
	
	
	function openWin(imgFileName) {
		
		var win;
	/*	
		win = window.open("testPopup.html", "myWinpopup",
				          "left=100px, top=100px, width=400px, height=350px"); // 팝업창 띄우기 
	*/
		win = window.open("", "myWinpopup",
    				      "left=100px, top=100px, width=400px, height=350px"); // 팝업창 띄우기 
    
        win.document.writeln("<html>");
        win.document.writeln("<head><title>제품이미지 "+imgFileName+" 확대보기</title></head>");    				      
        win.document.writeln("<body align='center'>");
        win.document.writeln("<img src='"+imgFileName+"' />");
        win.document.writeln("<br/><br/><br/>");
        win.document.writeln("<button type='button' onClick='window.close();'>팝업창닫기</button>");
        win.document.writeln("</body>");
        win.document.writeln("</html>");			      
    				      
	}// end of function openWin()-----------------
	
</script>

</head>
<body>

<div align="center">
	<h2 id="underline" style="font-style: italic; color: green;">상품선택</h2>
    <table>
    	<tr align="center">
    		<td width="50%">
    			<img class="productimg" src="images/monitor.jpg" alt="모니터" onClick="openWin('images/monitor.jpg');" /> 
    		</td>
    		<td width="50%">
    			<img class="productimg" src="images/cam.jpg" alt="캠코더" onClick="openWin('images/cam.jpg');" />
    		</td>
    	</tr>
    	<tr align="center">
    		<td>
    			<span class="productname">LCD모니터</span><br/>
    			<span class="productprice"><span id="monitorPrice">200,000</span>원</span>
    		</td>
    		<td>
    			<span class="productname">캠코더</span><br/>
    			<span class="productprice"><span id="camPrice">700,000</span>원</span>
    		</td>
    	</tr>
    	<tr align="center">
    		<td>
    			<label for="monitor" class="choice">[선택]</label> <input type="radio" name="choice" id="monitor" onClick="choice('1');" />
    		</td>
    		<td>
    			<label for="cam" class="choice">[선택]</label> <input type="radio" name="choice" id="cam" onClick="choice('2');" />
    		</td>
    	</tr>
    	<tr align="center">
    		<td colspan="2"><span class="money1">[주문금액]</span> <input type="text" id="orderPrice" style="text-align: right; margin-left: 5%; font-size: 14pt; color: maroon; " size="10" /> <span class="money1">원</span></td>
    	</tr>
    	<tr align="center">
    		<td colspan="2"><span class="money2">[배송비포함 주문금액]</span> <span id="totalPrice" style="font-size: 14pt; font-weight: bold; color: maroon;"></span> <span class="money2">원</span></td>
    	</tr>
    </table> 
	
</div>

</body>
</html>



